import{_ as V}from"./index-oy2qoaYw.js";const v={class:"frame","element-loading-text":"加载中..."},h=["src"],p=Vue.defineComponent({name:"LayFrame",__name:"frame",props:{frameInfo:{}},setup(d){var l,i,s;const f=d,o=Vue.ref(!0),r=VueRouter.useRoute(),t=Vue.ref(""),c=Vue.ref(null);(l=Vue.unref(r.meta))!=null&&l.frameSrc&&(t.value=(i=Vue.unref(r.meta))==null?void 0:i.frameSrc),((s=Vue.unref(r.meta))==null?void 0:s.frameLoading)===!1&&u();function u(){o.value=!1}function _(){Vue.nextTick(()=>{const e=Vue.unref(c);if(!e)return;const a=e;a.attachEvent?a.attachEvent("onload",()=>{u()}):e.onload=()=>{u()}})}return Vue.watch(()=>r.fullPath,e=>{var a,n,m;r.name==="Redirect"&&e.includes((a=f.frameInfo)==null?void 0:a.fullPath)&&(t.value=e,o.value=!0),((n=f.frameInfo)==null?void 0:n.fullPath)===e&&(t.value=(m=f.frameInfo)==null?void 0:m.frameSrc)}),Vue.onMounted(()=>{_()}),(e,a)=>{const n=Vue.resolveDirective("loading");return Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",v,[Vue.createElementVNode("iframe",{ref_key:"frameRef",ref:c,src:t.value,class:"frame-iframe"},null,8,h)])),[[n,o.value]])}}}),R=V(p,[["__scopeId","data-v-3c5b807a"]]);export{R as default};
